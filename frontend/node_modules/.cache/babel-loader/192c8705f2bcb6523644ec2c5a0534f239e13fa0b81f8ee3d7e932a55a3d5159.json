{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'../styles/dctfweb.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dctfweb=()=>{const hoje=new Date();const mesAtual=String(hoje.getMonth()+1).padStart(2,'0');const anoAtual=hoje.getFullYear();const[competencia,setCompetencia]=useState(`${mesAtual}/${anoAtual}`);const[empresas,setEmpresas]=useState([]);const[selecionadas,setSelecionadas]=useState([]);const[executando,setExecutando]=useState(false);const[mensagem,setMensagem]=useState('');const[filtros,setFiltros]=useState({cod:'',razaosocial:'',operador:'',cnpj:'',situacao:'',pagamento:'',data_vencimento:'',valor:''});useEffect(()=>{if(!competencia)return;axios.get(`${process.env.REACT_APP_API_BASE}/api/empresas-dctfweb/?competencia=${competencia}`).then(res=>setEmpresas(res.data)).catch(()=>setMensagem('Erro ao carregar empresas.'));},[competencia]);const handleCheckbox=cnpj=>{setSelecionadas(prev=>prev.includes(cnpj)?prev.filter(item=>item!==cnpj):[...prev,cnpj]);};const baixarZip=(endpoint,nomeArquivo,sucessoMsg,erroMsg)=>async()=>{if(selecionadas.length===0){setMensagem('Selecione ao menos uma empresa');return;}setExecutando(true);setMensagem('');try{const res=await axios.post(endpoint,{cnpjs:selecionadas,competencia},{responseType:'blob'});const url=window.URL.createObjectURL(new Blob([res.data]));const link=document.createElement('a');link.href=url;link.setAttribute('download',nomeArquivo);document.body.appendChild(link);link.click();setMensagem(sucessoMsg);}catch(error){var _error$response;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===500){setMensagem('‚ö†Ô∏è A DARF do m√™s solicitado ainda n√£o est√° dispon√≠vel.');}else{var _error$response2,_error$response2$data;setMensagem(erroMsg+(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.mensagem)||error.message));}}setExecutando(false);};const executar=baixarZip(`${process.env.REACT_APP_API_BASE}/api/dctfweb/`,'relatorios_dctfweb.zip','Download de DARFs iniciado com sucesso.','Erro ao gerar DARFs: ');const gerarRecibos=baixarZip(`${process.env.REACT_APP_API_BASE}/api/dctfweb/recibos/`,'recibos_dctfweb.zip','Recibos baixados com sucesso.','Erro ao gerar recibos: ');const gerarDeclaracoes=baixarZip(`${process.env.REACT_APP_API_BASE}/api/dctfweb/declaracoes/`,'declaracoes_dctfweb.zip','Declara√ß√µes baixadas com sucesso.','Erro ao gerar declara√ß√µes: ');const gerarXmls=baixarZip(`${process.env.REACT_APP_API_BASE}/api/dctfweb/xmls/`,'xmls_dctfweb.zip','XMLs normais baixados com sucesso.','Erro ao gerar XMLs: ');const gerarXmlsAssinados=baixarZip(`${process.env.REACT_APP_API_BASE}/api/dctfweb/xmls-assinados/`,'xmls_assinados_dctfweb.zip','XMLs assinados baixados com sucesso.','Erro ao gerar XMLs assinados: ');const consultarGuiasAndamento=baixarZip(`${process.env.REACT_APP_API_BASE}/api/dctfweb/guias-em-andamento/`,'guias_em_andamento.zip','Guias em andamento baixadas com sucesso.','Erro ao consultar guias: ');return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5 shadow p-4 rounded bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-wrapper\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-file-alt header-icon\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"titulo-pagina\",children:\"Relat\\xF3rios DCTFWeb\"})]}),mensagem&&/*#__PURE__*/_jsx(\"div\",{className:`alert ${mensagem.includes('‚ö†Ô∏è')||mensagem.includes('Erro')?'alert-danger':'alert-info'}`,children:mensagem}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2 mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-bold\",children:\"M\\xEAs\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:competencia.split('/')[0],onChange:e=>{const ano=competencia.split('/')[1];setCompetencia(`${e.target.value}/${ano}`);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"MM\"}),Array.from({length:12},(_,i)=>{const mes=String(i+1).padStart(2,'0');return/*#__PURE__*/_jsx(\"option\",{value:mes,children:mes},mes);})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-bold\",children:\"Ano\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:competencia.split('/')[1],onChange:e=>{const mes=competencia.split('/')[0];setCompetencia(`${mes}/${e.target.value}`);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"AAAA\"}),Array.from({length:5},(_,i)=>{const ano=2021+i;return/*#__PURE__*/_jsx(\"option\",{value:ano,children:ano},ano);})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-wrap justify-content-end gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary px-4\",onClick:executar,disabled:executando,children:executando?'‚è≥ Gerando...':'üìë Gerar DARF'}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary px-4\",onClick:gerarRecibos,disabled:executando,children:executando?'‚è≥ Aguarde...':'üìÑ Gerar Recibo'}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary px-4\",onClick:gerarDeclaracoes,disabled:executando,children:executando?'‚è≥ Processando...':'üìë Baixar Declara√ß√£o'}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary px-4\",onClick:gerarXmls,disabled:executando,children:executando?'‚è≥ Baixando...':'üìÑ Baixar XML'}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary px-4\",onClick:gerarXmlsAssinados,disabled:executando,children:executando?'‚è≥ Assinando...':'üìÑ Assinar XML'}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary px-4\",onClick:consultarGuiasAndamento,disabled:executando,children:executando?'‚è≥ Consultando...':'2¬∞ Via de DARF'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered table-hover text-center align-middle fs-6\",children:[/*#__PURE__*/_jsxs(\"thead\",{className:\"table-light\",children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{children:\"C\\xF3digo\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Raz\\xE3o Social\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Operador\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CNPJ\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Situa\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Pagamento\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Data vencimento\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Valor\"})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control form-control-sm\",placeholder:\"Filtrar...\",onChange:e=>setFiltros(prev=>({...prev,cod:e.target.value}))})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control form-control-sm\",placeholder:\"Filtrar...\",onChange:e=>setFiltros(prev=>({...prev,razaosocial:e.target.value}))})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control form-control-sm\",placeholder:\"Filtrar...\",onChange:e=>setFiltros(prev=>({...prev,operador:e.target.value}))})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control form-control-sm\",placeholder:\"Filtrar...\",onChange:e=>setFiltros(prev=>({...prev,cnpj:e.target.value}))})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control form-control-sm\",placeholder:\"Filtrar...\",onChange:e=>setFiltros(prev=>({...prev,situacao:e.target.value}))})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control form-control-sm\",placeholder:\"Filtrar...\",onChange:e=>setFiltros(prev=>({...prev,pagamento:e.target.value}))})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control form-control-sm\",placeholder:\"Filtrar...\",onChange:e=>setFiltros(prev=>({...prev,data_vencimento:e.target.value}))})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control form-control-sm\",placeholder:\"Filtrar...\",onChange:e=>setFiltros(prev=>({...prev,valor:e.target.value}))})})]})]}),/*#__PURE__*/_jsx(\"tbody\",{children:empresas.filter(emp=>Object.entries(filtros).every(_ref=>{var _emp$campo;let[campo,valor]=_ref;return(_emp$campo=emp[campo])===null||_emp$campo===void 0?void 0:_emp$campo.toString().toLowerCase().includes(valor.toLowerCase());})).map(empresa=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selecionadas.includes(empresa.cnpj),onChange:()=>handleCheckbox(empresa.cnpj)})}),/*#__PURE__*/_jsx(\"td\",{children:empresa.cod}),/*#__PURE__*/_jsx(\"td\",{className:\"text-start\",children:empresa.razaosocial}),/*#__PURE__*/_jsx(\"td\",{children:empresa.operador}),/*#__PURE__*/_jsx(\"td\",{children:empresa.cnpj}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:`badge ${empresa.situacao==='N√£o gerado'?'bg-danger':'bg-success'}`,children:empresa.situacao})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:empresa.pagamento?'text-danger fw-bold':'text-muted',children:empresa.pagamento||'-'})}),/*#__PURE__*/_jsx(\"td\",{children:empresa.data_vencimento||'-'}),/*#__PURE__*/_jsx(\"td\",{children:empresa.valor})]},empresa.cnpj))})]})})]});};export default Dctfweb;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Dctfweb","hoje","Date","mesAtual","String","getMonth","padStart","anoAtual","getFullYear","competencia","setCompetencia","empresas","setEmpresas","selecionadas","setSelecionadas","executando","setExecutando","mensagem","setMensagem","filtros","setFiltros","cod","razaosocial","operador","cnpj","situacao","pagamento","data_vencimento","valor","get","process","env","REACT_APP_API_BASE","then","res","data","catch","handleCheckbox","prev","includes","filter","item","baixarZip","endpoint","nomeArquivo","sucessoMsg","erroMsg","length","post","cnpjs","responseType","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","error","_error$response","response","status","_error$response2","_error$response2$data","message","executar","gerarRecibos","gerarDeclaracoes","gerarXmls","gerarXmlsAssinados","consultarGuiasAndamento","className","children","value","split","onChange","e","ano","target","Array","from","_","i","mes","onClick","disabled","placeholder","emp","Object","entries","every","_ref","_emp$campo","campo","toString","toLowerCase","map","empresa","type","checked"],"sources":["C:/Users/elean/salvar_comece/frontend/src/pages/Dctfweb.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport '../styles/dctfweb.css';\n\nconst Dctfweb = () => {\n  const hoje = new Date();\n  const mesAtual = String(hoje.getMonth() + 1).padStart(2, '0');\n  const anoAtual = hoje.getFullYear();\n  const [competencia, setCompetencia] = useState(`${mesAtual}/${anoAtual}`);\n\n  const [empresas, setEmpresas] = useState([]);\n  const [selecionadas, setSelecionadas] = useState([]);\n  const [executando, setExecutando] = useState(false);\n  const [mensagem, setMensagem] = useState('');\n\n  const [filtros, setFiltros] = useState({\n    cod: '',\n    razaosocial: '',\n    operador: '',\n    cnpj: '',\n    situacao: '',\n    pagamento: '',\n    data_vencimento: '',\n    valor: '',\n  });\n\n  useEffect(() => {\n    if (!competencia) return;\n\n    axios\n      .get(`${process.env.REACT_APP_API_BASE}/api/empresas-dctfweb/?competencia=${competencia}`)\n      .then((res) => setEmpresas(res.data))\n      .catch(() => setMensagem('Erro ao carregar empresas.'));\n  }, [competencia]);\n\n  const handleCheckbox = (cnpj) => {\n    setSelecionadas((prev) =>\n      prev.includes(cnpj) ? prev.filter((item) => item !== cnpj) : [...prev, cnpj]\n    );\n  };\n\n  const baixarZip = (endpoint, nomeArquivo, sucessoMsg, erroMsg) => async () => {\n    if (selecionadas.length === 0) {\n      setMensagem('Selecione ao menos uma empresa');\n      return;\n    }\n\n    setExecutando(true);\n    setMensagem('');\n\n    try {\n      const res = await axios.post(\n        endpoint,\n        { cnpjs: selecionadas, competencia },\n        { responseType: 'blob' }\n      );\n\n      const url = window.URL.createObjectURL(new Blob([res.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', nomeArquivo);\n      document.body.appendChild(link);\n      link.click();\n      setMensagem(sucessoMsg);\n    } catch (error) {\n      if (error.response?.status === 500) {\n        setMensagem('‚ö†Ô∏è A DARF do m√™s solicitado ainda n√£o est√° dispon√≠vel.');\n      } else {\n        setMensagem(erroMsg + (error.response?.data?.mensagem || error.message));\n      }\n    }\n\n    setExecutando(false);\n  };\n\n  const executar = baixarZip(\n    `${process.env.REACT_APP_API_BASE}/api/dctfweb/`,\n    'relatorios_dctfweb.zip',\n    'Download de DARFs iniciado com sucesso.',\n    'Erro ao gerar DARFs: '\n  );\n\n  const gerarRecibos = baixarZip(\n    `${process.env.REACT_APP_API_BASE}/api/dctfweb/recibos/`,\n    'recibos_dctfweb.zip',\n    'Recibos baixados com sucesso.',\n    'Erro ao gerar recibos: '\n  );\n\n  const gerarDeclaracoes = baixarZip(\n    `${process.env.REACT_APP_API_BASE}/api/dctfweb/declaracoes/`,\n    'declaracoes_dctfweb.zip',\n    'Declara√ß√µes baixadas com sucesso.',\n    'Erro ao gerar declara√ß√µes: '\n  );\n\n  const gerarXmls = baixarZip(\n    `${process.env.REACT_APP_API_BASE}/api/dctfweb/xmls/`,\n    'xmls_dctfweb.zip',\n    'XMLs normais baixados com sucesso.',\n    'Erro ao gerar XMLs: '\n  );\n\n  const gerarXmlsAssinados = baixarZip(\n    `${process.env.REACT_APP_API_BASE}/api/dctfweb/xmls-assinados/`,\n    'xmls_assinados_dctfweb.zip',\n    'XMLs assinados baixados com sucesso.',\n    'Erro ao gerar XMLs assinados: '\n  );\n\n  const consultarGuiasAndamento = baixarZip(\n    `${process.env.REACT_APP_API_BASE}/api/dctfweb/guias-em-andamento/`,\n    'guias_em_andamento.zip',\n    'Guias em andamento baixadas com sucesso.',\n    'Erro ao consultar guias: '\n  );\n\n  return (\n    <div className=\"container mt-5 shadow p-4 rounded bg-white\">\n      <div className=\"header-wrapper\">\n        <i className=\"fas fa-file-alt header-icon\"></i>\n        <h2 className=\"titulo-pagina\">Relat√≥rios DCTFWeb</h2>\n      </div>\n\n      {mensagem && (\n        <div className={`alert ${mensagem.includes('‚ö†Ô∏è') || mensagem.includes('Erro') ? 'alert-danger' : 'alert-info'}`}>\n          {mensagem}\n        </div>\n      )}\n\n      <div className=\"d-flex gap-2 mb-3\">\n        <div>\n          <label className=\"form-label fw-bold\">M√™s</label>\n          <select\n            className=\"form-select\"\n            value={competencia.split('/')[0]}\n            onChange={(e) => {\n              const ano = competencia.split('/')[1];\n              setCompetencia(`${e.target.value}/${ano}`);\n            }}\n          >\n            <option value=\"\">MM</option>\n            {Array.from({ length: 12 }, (_, i) => {\n              const mes = String(i + 1).padStart(2, '0');\n              return <option key={mes} value={mes}>{mes}</option>;\n            })}\n          </select>\n        </div>\n\n        <div>\n          <label className=\"form-label fw-bold\">Ano</label>\n          <select\n            className=\"form-select\"\n            value={competencia.split('/')[1]}\n            onChange={(e) => {\n              const mes = competencia.split('/')[0];\n              setCompetencia(`${mes}/${e.target.value}`);\n            }}\n          >\n            <option value=\"\">AAAA</option>\n            {Array.from({ length: 5 }, (_, i) => {\n              const ano = 2021 + i;\n              return <option key={ano} value={ano}>{ano}</option>;\n            })}\n          </select>\n        </div>\n      </div>\n\n      <div className=\"d-flex flex-wrap justify-content-end gap-2 mb-2\">\n        <button className=\"btn btn-primary px-4\" onClick={executar} disabled={executando}>\n          {executando ? '‚è≥ Gerando...' : 'üìë Gerar DARF'}\n        </button>\n\n        <button className=\"btn btn-primary px-4\" onClick={gerarRecibos} disabled={executando}>\n          {executando ? '‚è≥ Aguarde...' : 'üìÑ Gerar Recibo'}\n        </button>\n\n        <button className=\"btn btn-primary px-4\" onClick={gerarDeclaracoes} disabled={executando}>\n          {executando ? '‚è≥ Processando...' : 'üìë Baixar Declara√ß√£o'}\n        </button>\n\n        <button className=\"btn btn-primary px-4\" onClick={gerarXmls} disabled={executando}>\n          {executando ? '‚è≥ Baixando...' : 'üìÑ Baixar XML'}\n        </button>\n\n        <button className=\"btn btn-primary px-4\" onClick={gerarXmlsAssinados} disabled={executando}>\n          {executando ? '‚è≥ Assinando...' : 'üìÑ Assinar XML'}\n        </button>\n\n        <button className=\"btn btn-primary px-4\" onClick={consultarGuiasAndamento} disabled={executando}>\n          {executando ? '‚è≥ Consultando...' : '2¬∞ Via de DARF'}\n        </button>\n      </div>\n\n      <div className=\"table-responsive\">\n        <table className=\"table table-bordered table-hover text-center align-middle fs-6\">\n          <thead className=\"table-light\">\n            <tr>\n              <th></th>\n              <th>C√≥digo</th>\n              <th>Raz√£o Social</th>\n              <th>Operador</th>\n              <th>CNPJ</th>\n              <th>Situa√ß√£o</th>\n              <th>Pagamento</th>\n              <th>Data vencimento</th>\n              <th>Valor</th>\n            </tr>\n            <tr>\n              <th></th>\n              <th><input className=\"form-control form-control-sm\" placeholder=\"Filtrar...\" onChange={(e) => setFiltros(prev => ({ ...prev, cod: e.target.value }))} /></th>\n              <th><input className=\"form-control form-control-sm\" placeholder=\"Filtrar...\" onChange={(e) => setFiltros(prev => ({ ...prev, razaosocial: e.target.value }))} /></th>\n              <th><input className=\"form-control form-control-sm\" placeholder=\"Filtrar...\" onChange={(e) => setFiltros(prev => ({ ...prev, operador: e.target.value }))} /></th>\n              <th><input className=\"form-control form-control-sm\" placeholder=\"Filtrar...\" onChange={(e) => setFiltros(prev => ({ ...prev, cnpj: e.target.value }))} /></th>\n              <th><input className=\"form-control form-control-sm\" placeholder=\"Filtrar...\" onChange={(e) => setFiltros(prev => ({ ...prev, situacao: e.target.value }))} /></th>\n              <th><input className=\"form-control form-control-sm\" placeholder=\"Filtrar...\" onChange={(e) => setFiltros(prev => ({ ...prev, pagamento: e.target.value }))} /></th>\n              <th><input className=\"form-control form-control-sm\" placeholder=\"Filtrar...\" onChange={(e) => setFiltros(prev => ({ ...prev, data_vencimento: e.target.value }))} /></th>\n              <th><input className=\"form-control form-control-sm\" placeholder=\"Filtrar...\" onChange={(e) => setFiltros(prev => ({ ...prev, valor: e.target.value }))} /></th>\n            </tr>\n          </thead>\n          <tbody>\n            {empresas\n              .filter(emp =>\n                Object.entries(filtros).every(([campo, valor]) =>\n                  emp[campo]?.toString().toLowerCase().includes(valor.toLowerCase())\n                )\n              )\n              .map((empresa) => (\n                <tr key={empresa.cnpj}>\n                  <td>\n                    <input\n                      type=\"checkbox\"\n                      checked={selecionadas.includes(empresa.cnpj)}\n                      onChange={() => handleCheckbox(empresa.cnpj)}\n                    />\n                  </td>\n                  <td>{empresa.cod}</td>\n                  <td className=\"text-start\">{empresa.razaosocial}</td>\n                  <td>{empresa.operador}</td>\n                  <td>{empresa.cnpj}</td>\n                  <td>\n                    <span className={`badge ${empresa.situacao === 'N√£o gerado' ? 'bg-danger' : 'bg-success'}`}>\n                      {empresa.situacao}\n                    </span>\n                  </td>\n                  <td>\n                    <span className={empresa.pagamento ? 'text-danger fw-bold' : 'text-muted'}>\n                      {empresa.pagamento || '-'}</span>\n                  </td>\n                  <td>{empresa.data_vencimento || '-'}</td>\n                  <td>{empresa.valor}</td>\n                </tr>\n              ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};\n\nexport default Dctfweb;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}