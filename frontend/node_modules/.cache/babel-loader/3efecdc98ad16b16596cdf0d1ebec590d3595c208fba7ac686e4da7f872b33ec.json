{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import'../styles/integraContador.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const IntegraContador=()=>{const[mensagem,setMensagem]=useState('');const[executando,setExecutando]=useState(false);const[empresas,setEmpresas]=useState([]);const[selecionadas,setSelecionadas]=useState([]);const[novaRazao,setNovaRazao]=useState('');const[novoCnpj,setNovoCnpj]=useState('');const cancelado=useRef(false);useEffect(()=>{fetch(`${process.env.REACT_APP_API_BASE}/api/empresas/`).then(res=>res.json()).then(data=>setEmpresas(data)).catch(()=>setMensagem('Erro ao carregar empresas'));},[]);const toggleSelecionada=cnpj=>{setSelecionadas(prev=>prev.includes(cnpj)?prev.filter(item=>item!==cnpj):[...prev,cnpj]);};const toggleTodas=()=>{if(selecionadas.length===empresas.length){setSelecionadas([]);}else{setSelecionadas(empresas.map(emp=>emp.cnpj));}};const todasSelecionadas=empresas.length>0&&selecionadas.length===empresas.length;const handleCancelar=()=>{cancelado.current=true;setMensagem('Execução cancelada pelo usuário.');setExecutando(false);};const handleExecutar=async()=>{if(selecionadas.length===0){setMensagem('Selecione ao menos uma empresa.');return;}cancelado.current=false;setExecutando(true);setMensagem('Executando integração...');const formData=new FormData();formData.append('cnpjs',JSON.stringify(selecionadas));try{const response=await fetch(`${process.env.REACT_APP_API_BASE}/api/executar-integra/`,{method:'POST',body:formData});if(!response.ok){const data=await response.json();throw new Error(data.mensagem||'Erro desconhecido');}if(cancelado.current)return;const blob=await response.blob();if(cancelado.current)return;// Verifica falhas via header customizado\nconst falhasHeader=response.headers.get('X-Falhas');let mensagemFinal='Download realizado com sucesso!';if(falhasHeader){try{const falhas=JSON.parse(falhasHeader);if(falhas.length>0){mensagemFinal+=`\\n\\n⚠️ Algumas empresas apresentaram erro:\\n${falhas.join('\\n')}`;}}catch(e){console.warn('Erro ao processar falhas do header:',e);}}const url=window.URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.setAttribute('download','relatorios.zip');document.body.appendChild(link);link.click();link.remove();setMensagem(mensagemFinal);}catch(error){if(!cancelado.current){setMensagem(`Erro ao executar integração: ${error.message}`);}}finally{setExecutando(false);}};const handleExcluirEmpresa=async cnpj=>{if(!window.confirm(`Tem certeza que deseja excluir o CNPJ ${cnpj}?`))return;try{const res=await fetch(`${process.env.REACT_APP_API_BASE}/api/empresas/${cnpj}/`,{method:'DELETE'});const data=await res.json();if(res.ok){setEmpresas(prev=>prev.filter(e=>e.cnpj!==cnpj));setSelecionadas(prev=>prev.filter(c=>c!==cnpj));setMensagem(`Empresa ${cnpj} excluída com sucesso.`);}else{setMensagem(`Erro ao excluir: ${data.erro||'Erro desconhecido'}`);}}catch(error){setMensagem(`Erro ao excluir: ${error.message}`);}};const handleAdicionarEmpresa=async()=>{if(!novaRazao||!novoCnpj){setMensagem(\"Preencha os campos para adicionar.\");return;}try{const res=await fetch(`${process.env.REACT_APP_API_BASE}/api/empresas/adicionar/`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({razaosocial:novaRazao,cnpj:novoCnpj})});const data=await res.json();if(res.ok){setMensagem(data.mensagem);setNovaRazao('');setNovoCnpj('');setEmpresas(prev=>[...prev,{razaosocial:novaRazao,cnpj:novoCnpj}]);}else{setMensagem(data.erro||'Erro ao adicionar empresa');}}catch(error){setMensagem(`Erro ao adicionar: ${error.message}`);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-integra\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Relat\\xF3rios Fiscais\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-adicionar mb-4 p-4\",style:{backgroundColor:'#f4f8ff',borderRadius:'12px',boxShadow:'0 2px 10px rgba(0, 0, 0, 0.05)'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{fontWeight:'600',marginBottom:'1rem',color:'#2c3e50'},children:\"Adicionar nova empresa\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Raz\\xE3o Social:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:novaRazao,onChange:e=>setNovaRazao(e.target.value),placeholder:\"Digite a raz\\xE3o social\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"CNPJ:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:novoCnpj,onChange:e=>setNovoCnpj(e.target.value),placeholder:\"Digite o CNPJ (somente n\\xFAmeros)\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-end\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-success mt-2 px-4 py-2\",onClick:handleAdicionarEmpresa,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus me-2\"}),\" Adicionar Empresa\"]})})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"section-title\",children:\"Selecione as empresas:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"empresas-box\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"tabela-empresas\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:toggleTodas,checked:todasSelecionadas})}),/*#__PURE__*/_jsx(\"th\",{children:\"Raz\\xE3o Social\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CNPJ\"}),/*#__PURE__*/_jsx(\"th\",{children:\"A\\xE7\\xF5es\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:empresas.map((empresa,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",value:empresa.cnpj,checked:selecionadas.includes(empresa.cnpj),onChange:()=>toggleSelecionada(empresa.cnpj)})}),/*#__PURE__*/_jsx(\"td\",{children:empresa.razaosocial}),/*#__PURE__*/_jsx(\"td\",{children:empresa.cnpj}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn-sm\",onClick:()=>handleExcluirEmpresa(empresa.cnpj),children:\"Excluir\"})})]},index))})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"botoes-execucao\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleExecutar,disabled:executando,className:\"btn-executar\",children:executando?'Executando...':'Executar Integração'}),executando&&/*#__PURE__*/_jsx(\"button\",{onClick:handleCancelar,className:\"btn-cancelar\",style:{marginLeft:'1rem',backgroundColor:'#dc3545',color:'#fff'},children:\"Cancelar Execu\\xE7\\xE3o\"})]}),mensagem&&/*#__PURE__*/_jsxs(\"div\",{className:\"mensagem-status\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"pre\",{style:{whiteSpace:'pre-wrap',color:mensagem.includes('⚠️')?'red':'inherit'},children:mensagem})]})]});};export default IntegraContador;","map":{"version":3,"names":["React","useState","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","IntegraContador","mensagem","setMensagem","executando","setExecutando","empresas","setEmpresas","selecionadas","setSelecionadas","novaRazao","setNovaRazao","novoCnpj","setNovoCnpj","cancelado","fetch","process","env","REACT_APP_API_BASE","then","res","json","data","catch","toggleSelecionada","cnpj","prev","includes","filter","item","toggleTodas","length","map","emp","todasSelecionadas","handleCancelar","current","handleExecutar","formData","FormData","append","JSON","stringify","response","method","body","ok","Error","blob","falhasHeader","headers","get","mensagemFinal","falhas","parse","join","e","console","warn","url","window","URL","createObjectURL","link","document","createElement","href","setAttribute","appendChild","click","remove","error","message","handleExcluirEmpresa","confirm","c","erro","handleAdicionarEmpresa","razaosocial","className","children","style","backgroundColor","borderRadius","boxShadow","fontWeight","marginBottom","color","type","value","onChange","target","placeholder","onClick","checked","empresa","index","disabled","marginLeft","whiteSpace"],"sources":["C:/Users/elean/salvar_comece/frontend/src/pages/IntegraContador.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport '../styles/integraContador.css';\n\nconst IntegraContador = () => {\n  const [mensagem, setMensagem] = useState('');\n  const [executando, setExecutando] = useState(false);\n  const [empresas, setEmpresas] = useState([]);\n  const [selecionadas, setSelecionadas] = useState([]);\n  const [novaRazao, setNovaRazao] = useState('');\n  const [novoCnpj, setNovoCnpj] = useState('');\n\n  const cancelado = useRef(false);\n\n  useEffect(() => {\n    fetch(`${process.env.REACT_APP_API_BASE}/api/empresas/`)\n      .then(res => res.json())\n      .then(data => setEmpresas(data))\n      .catch(() => setMensagem('Erro ao carregar empresas'));\n  }, []);\n\n  const toggleSelecionada = (cnpj) => {\n    setSelecionadas(prev =>\n      prev.includes(cnpj)\n        ? prev.filter(item => item !== cnpj)\n        : [...prev, cnpj]\n    );\n  };\n\n  const toggleTodas = () => {\n    if (selecionadas.length === empresas.length) {\n      setSelecionadas([]);\n    } else {\n      setSelecionadas(empresas.map(emp => emp.cnpj));\n    }\n  };\n\n  const todasSelecionadas = empresas.length > 0 && selecionadas.length === empresas.length;\n\n  const handleCancelar = () => {\n    cancelado.current = true;\n    setMensagem('Execução cancelada pelo usuário.');\n    setExecutando(false);\n  };\n\n  const handleExecutar = async () => {\n    if (selecionadas.length === 0) {\n      setMensagem('Selecione ao menos uma empresa.');\n      return;\n    }\n\n    cancelado.current = false;\n    setExecutando(true);\n    setMensagem('Executando integração...');\n\n    const formData = new FormData();\n    formData.append('cnpjs', JSON.stringify(selecionadas));\n\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_BASE}/api/executar-integra/`, {\n        method: 'POST',\n        body: formData,\n      });\n\n      if (!response.ok) {\n        const data = await response.json();\n        throw new Error(data.mensagem || 'Erro desconhecido');\n      }\n\n      if (cancelado.current) return;\n\n      const blob = await response.blob();\n      if (cancelado.current) return;\n\n      // Verifica falhas via header customizado\n      const falhasHeader = response.headers.get('X-Falhas');\n      let mensagemFinal = 'Download realizado com sucesso!';\n\n      if (falhasHeader) {\n        try {\n          const falhas = JSON.parse(falhasHeader);\n          if (falhas.length > 0) {\n            mensagemFinal += `\\n\\n⚠️ Algumas empresas apresentaram erro:\\n${falhas.join('\\n')}`;\n          }\n        } catch (e) {\n          console.warn('Erro ao processar falhas do header:', e);\n        }\n      }\n\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', 'relatorios.zip');\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n\n      setMensagem(mensagemFinal);\n    } catch (error) {\n      if (!cancelado.current) {\n        setMensagem(`Erro ao executar integração: ${error.message}`);\n      }\n    } finally {\n      setExecutando(false);\n    }\n  };\n\n  const handleExcluirEmpresa = async (cnpj) => {\n    if (!window.confirm(`Tem certeza que deseja excluir o CNPJ ${cnpj}?`)) return;\n\n    try {\n      const res = await fetch(`${process.env.REACT_APP_API_BASE}/api/empresas/${cnpj}/`, {\n        method: 'DELETE'\n      });\n      const data = await res.json();\n\n      if (res.ok) {\n        setEmpresas(prev => prev.filter(e => e.cnpj !== cnpj));\n        setSelecionadas(prev => prev.filter(c => c !== cnpj));\n        setMensagem(`Empresa ${cnpj} excluída com sucesso.`);\n      } else {\n        setMensagem(`Erro ao excluir: ${data.erro || 'Erro desconhecido'}`);\n      }\n    } catch (error) {\n      setMensagem(`Erro ao excluir: ${error.message}`);\n    }\n  };\n\n  const handleAdicionarEmpresa = async () => {\n    if (!novaRazao || !novoCnpj) {\n      setMensagem(\"Preencha os campos para adicionar.\");\n      return;\n    }\n    try {\n      const res = await fetch(`${process.env.REACT_APP_API_BASE}/api/empresas/adicionar/`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ razaosocial: novaRazao, cnpj: novoCnpj })\n      });\n      const data = await res.json();\n      if (res.ok) {\n        setMensagem(data.mensagem);\n        setNovaRazao('');\n        setNovoCnpj('');\n        setEmpresas(prev => [...prev, { razaosocial: novaRazao, cnpj: novoCnpj }]);\n      } else {\n        setMensagem(data.erro || 'Erro ao adicionar empresa');\n      }\n    } catch (error) {\n      setMensagem(`Erro ao adicionar: ${error.message}`);\n    }\n  };\n\n  return (\n    <div className=\"container-integra\">\n      <h2>Relatórios Fiscais</h2>\n\n      <div className=\"form-adicionar mb-4 p-4\" style={{ backgroundColor: '#f4f8ff', borderRadius: '12px', boxShadow: '0 2px 10px rgba(0, 0, 0, 0.05)' }}>\n        <h4 style={{ fontWeight: '600', marginBottom: '1rem', color: '#2c3e50' }}>Adicionar nova empresa</h4>\n        <div className=\"form-group\">\n          <label>Razão Social:</label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            value={novaRazao}\n            onChange={(e) => setNovaRazao(e.target.value)}\n            placeholder=\"Digite a razão social\"\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>CNPJ:</label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            value={novoCnpj}\n            onChange={(e) => setNovoCnpj(e.target.value)}\n            placeholder=\"Digite o CNPJ (somente números)\"\n          />\n        </div>\n        <div className=\"text-end\">\n          <button className=\"btn btn-success mt-2 px-4 py-2\" onClick={handleAdicionarEmpresa}>\n            <i className=\"fas fa-plus me-2\"></i> Adicionar Empresa\n          </button>\n        </div>\n      </div>\n\n      <h3 className=\"section-title\">Selecione as empresas:</h3>\n      <div className=\"empresas-box\">\n        <table className=\"tabela-empresas\">\n          <thead>\n            <tr>\n              <th>\n                <input type=\"checkbox\" onChange={toggleTodas} checked={todasSelecionadas} />\n              </th>\n              <th>Razão Social</th>\n              <th>CNPJ</th>\n              <th>Ações</th>\n            </tr>\n          </thead>\n          <tbody>\n            {empresas.map((empresa, index) => (\n              <tr key={index}>\n                <td>\n                  <input\n                    type=\"checkbox\"\n                    value={empresa.cnpj}\n                    checked={selecionadas.includes(empresa.cnpj)}\n                    onChange={() => toggleSelecionada(empresa.cnpj)}\n                  />\n                </td>\n                <td>{empresa.razaosocial}</td>\n                <td>{empresa.cnpj}</td>\n                <td>\n                  <button className=\"btn btn-danger btn-sm\" onClick={() => handleExcluirEmpresa(empresa.cnpj)}>\n                    Excluir\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      <div className=\"botoes-execucao\">\n        <button onClick={handleExecutar} disabled={executando} className=\"btn-executar\">\n          {executando ? 'Executando...' : 'Executar Integração'}\n        </button>\n\n        {executando && (\n          <button\n            onClick={handleCancelar}\n            className=\"btn-cancelar\"\n            style={{ marginLeft: '1rem', backgroundColor: '#dc3545', color: '#fff' }}\n          >\n            Cancelar Execução\n          </button>\n        )}\n      </div>\n\n      {mensagem && (\n        <div className=\"mensagem-status\">\n          <strong>Status:</strong><br />\n          <pre style={{ whiteSpace: 'pre-wrap', color: mensagem.includes('⚠️') ? 'red' : 'inherit' }}>\n            {mensagem}\n          </pre>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default IntegraContador;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}